const autoEventUtils={dimensions:{id:"data-hm-id",clazz:"data-hm-class",xpath:"data-hm-xpath",content:"data-hm-content",tag:"data-hm-tag",link:"data-hm-link"},enabledHook:"data-hm-enabled",disabledHook:"data-hm-disabled",getPath:function(t,e){let n=[],i=[];if(!t)return i;for(;null!=t.parentNode;){let o=0,s=0,a=t.parentNode.childNodes.length;for(let e=0;e<a;e++){let n=t.parentNode.childNodes[e];if(n.nodeName===t.nodeName&&(o++,n===t&&(s=o),s>0&&o>1))break}let r=""!==t.id;if(r&&e){n.unshift("#"+encodeURIComponent(t.id));break}{if(r){let e="#"+encodeURIComponent(t.id);e=n.length>0?e+">"+n.join(">"):e,i.push(e)}let e=o>1?"["+s+"]":"";n.unshift(encodeURIComponent(String(t.nodeName).toLowerCase())+e)}t=t.parentNode}return i.push(n.join(">")),i},getPathToId:function(t){let e=this.getPath(t,!0);return e&&e.length?String(e[0]):""},getAttribute:function(t,e){let n=t.getAttribute&&t.getAttribute(e)||null;if(!n&&t.attributes&&t.attributes.length){let i=t.attributes,o=i.length;for(let t=0;t<o;t++)i[t].nodeName===e&&(n=i[t].nodeValue)}return n},getDomTag:function(t){let e="document";return void 0!==t.tagName&&(e=t.tagName),e.toLowerCase()},getTextContent:function(t){let e="";return t.textContent?e=t.textContent.trim():t.innerText&&(e=t.innerText.trim()),e&&(e=e.replace(/\s+/g," ").substring(0,255)),e},getDomContent:function(t,e){let n,i=this.getDomTag(t);return n=(n=("input"!==i||!e||"button"!==t.type&&"submit"!==t.type)&&("input"!==i||e||"password"===t.type)?"img"===i?this.getAttribute(t,"alt")||this.getAttribute(t,"title")||this.getAttribute(t,"src"):"body"===i||"html"===i?["(hm-default-content-for-",i,")"].join(""):this.getTextContent(t):t.value.trim()||"")||"",String(n).substring(0,255)},getElementInfo:function(t){let e={};return e.id=this.getAttribute(t,this.dimensions.id)||this.getAttribute(t,"id")||"",e.clazz=this.getAttribute(t,this.dimensions.clazz)||this.getAttribute(t,"class")||"",e.xpath=this.getAttribute(t,this.dimensions.xpath)||this.getPathToId(t),e.content=this.getAttribute(t,this.dimensions.content)||this.getDomContent(t,!0),e.tag=this.getAttribute(t,this.dimensions.tag)||this.getDomTag(t),e.link=this.getAttribute(t,this.dimensions.link)||this.getAttribute(t,"href")||"",e}};function getAutoEventTrackingInfo(t){if(!t)return{message:"无审查元素"};let e={};return null!=autoEventUtils.getAttribute(t,autoEventUtils.disabledHook)?e.message="该元素被禁止采集":e=autoEventUtils.getElementInfo(t),e}