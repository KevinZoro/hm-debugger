!function(s){function e(s){return s instanceof Object&&Object.keys(s).length>0}s.fn.jsonViewer=function(l,n){return n=n||{},this.each(function(){var a=function s(l,n){var a="";if("string"==typeof l)a+='<span class="json-string">"'+(l=l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"))+'"</span>';else if("number"==typeof l)a+='<span class="json-literal">'+l+"</span>";else if("boolean"==typeof l)a+='<span class="json-literal">'+l+"</span>";else if(null===l)a+='<span class="json-literal">null</span>';else if(l instanceof Array)if(l.length>0){a+='[<ol class="json-array">';for(var i=0;i<l.length;++i)a+="<li>",e(l[i])&&(a+='<a href class="json-toggle"></a>'),a+=s(l[i],n),i<l.length-1&&(a+=","),a+="</li>";a+="</ol>]"}else a+="[]";else if("object"==typeof l){var t=Object.keys(l).length;if(t>0){for(var o in a+='{<ul class="json-dict">',l)if(l.hasOwnProperty(o)){a+="<li>";var r=n.withQuotes?'<span class="json-string">"'+o+'"</span>':o;e(l[o])?a+='<a href class="json-toggle">'+r+"</a>":a+=r,a+=": "+s(l[o],n),--t>0&&(a+=","),a+="</li>"}a+="</ul>}"}else a+="{}"}return a}(l,n);e(l)&&(a='<a href class="json-toggle"></a>'+a),s(this).html(a),s(this).off("click"),s(this).on("click","a.json-toggle",function(){var e=s(this).toggleClass("collapsed").siblings("ul.json-dict, ol.json-array");if(e.toggle(),e.is(":visible"))e.siblings(".json-placeholder").remove();else{var l=e.children("li").length,n=l+(l>1?" items":" item");e.after('<a href class="json-placeholder">'+n+"</a>")}return!1}),s(this).on("click","a.json-placeholder",function(){return s(this).siblings("a.json-toggle").click(),!1}),1==n.collapsed&&s(this).find("a.json-toggle").click()})}}(jQuery);